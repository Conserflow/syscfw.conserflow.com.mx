(self.webpackChunk=self.webpackChunk||[]).push([[753],{4410:(t,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>s});var e=i(18785);i(96225).call(void 0);const o={data:function(){return{empresa_beneficiarios:"",tipo_viatico:"",nuevo:null,solicitud:{beneficiariosuno:"",datos_bancos_beneficiariosuno:"",clavecuentatarjetauno:"",claveuno:"",cuentauno:"",banco:""},optionsvs_benficiario_uno:[],listaDatosBancariosuno:[]}},watch:{solicitud:{handler:function(t,a){var i=[];i.push({id:t.beneficiariosuno,dbemp_id:t.datos_bancos_beneficiariosuno,tarjeta:t.clavecuentatarjetauno,clave:t.claveuno,cuenta:t.cuentauno,banco:t.banco}),this.$emit("enviarUno",i)},deep:!0}},methods:{datos:function(){},getDatos:function(t,a,i){this.quitar_uno(),this.solicitud.beneficiariosuno="",this.optionsvs_benficiario_uno=[],this.empresa_beneficiarios=t,this.tipo_viatico=a,this.optionsvs_benficiario_uno=i,e.A.resetObject(this.solicitud)},buscar_uno:function(){this.listaDatosBancariosuno=[];var t=this;axios.get("/datosbanemp/"+t.solicitud.beneficiariosuno.id+"&"+t.empresa_beneficiarios+"/datosbanemp").then((function(a){t.listaDatosBancariosuno=a.data})).catch((function(t){}))},enviar_uno:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.limpiaInputs();null==t||t.target.selectedIndex;0!=t.target.value&&(this.solicitud.datos_bancos_beneficiariosuno=this.listaDatosBancariosuno[t.target.selectedIndex].id,this.solicitud.clavecuentatarjetauno=this.listaDatosBancariosuno[t.target.selectedIndex].numero_tarjeta,this.solicitud.claveuno=this.listaDatosBancariosuno[t.target.selectedIndex].clabe,this.solicitud.cuentauno=this.listaDatosBancariosuno[t.target.selectedIndex].numero_cuenta,this.solicitud.banco=this.listaDatosBancariosuno[t.target.selectedIndex].bnombre);var a=[];a.push({id:this.solicitud.beneficiariosuno,dbemp_id:this.solicitud.datos_bancos_beneficiariosuno,tarjeta:this.solicitud.clavecuentatarjetauno,clave:this.solicitud.claveuno,cuenta:this.solicitud.cuentauno,banco:this.solicitud.banco}),this.$emit("enviarUno",a)},setDatos:function(t,a,i){this.nuevo=t,0!=t.length&&(this.tipo_viatico=a,this.empresa_beneficiarios=i,0==t[0].empleado_beneficiario_id?(this.solicitud.beneficiariosuno=t[0].beneficiario_externo,this.solicitud.datos_bancos_beneficiariosuno=t[0].banco_nombre):(this.solicitud.beneficiariosuno={id:t[0].empleado_beneficiario_id,name:t[0].nombre_beneficiario},this.solicitud.datos_bancos_beneficiariosuno=t[0].datos_bancarios_empleado_id),this.solicitud.clavecuentatarjetauno=t[0].tarjeta,this.solicitud.claveuno=t[0].clabe,this.solicitud.cuentauno=t[0].cuenta,this.solicitud.banco=t[0].banco_nombre)},quitar_uno:function(){this.solicitud.beneficiariosuno="",this.solicitud.datos_bancos_beneficiariosuno="",this.solicitud.clavecuentatarjetauno="",this.solicitud.claveuno="",this.solicitud.cuentauno="",this.solicitud.banco="",this.listaDatosBancariosuno=[],this.$emit("limpiarUno")},limpiaInputs:function(){this.solicitud.clavecuentatarjetauno="",this.solicitud.claveuno="",this.solicitud.cuentauno="",this.solicitud.banco=""}},mounted:function(){}};const s=(0,i(14486).A)(o,(function(){var t=this,a=t._self._c;return a("div",[0!=t.tipo_viatico?[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v(" Beneficiario")]),t._v(" "),a("v-select",{attrs:{options:t.optionsvs_benficiario_uno,label:"name",name:"proyecto","data-vv-name":"proyecto"},on:{input:t.buscar_uno},model:{value:t.solicitud.beneficiariosuno,callback:function(a){t.$set(t.solicitud,"beneficiariosuno",a)},expression:"solicitud.beneficiariosuno"}})],1),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v(" Banco beneficiario")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.datos_bancos_beneficiariosuno,expression:"solicitud.datos_bancos_beneficiariosuno"}],staticClass:"form-control",attrs:{name:"datos bancarios","data-vv-name":"Proyecto"},on:{change:[function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.solicitud,"datos_bancos_beneficiariosuno",a.target.multiple?i:i[0])},function(a){return t.enviar_uno(a)}]}},[t._l(t.listaDatosBancariosuno,(function(i){return a("option",{key:i.id,domProps:{value:i.id}},[t._v(t._s(i.bnombre))])})),t._v(" "),a("option",{attrs:{value:"0"}},[t._v("OTRO")])],2),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("datos bancarios")))])])])]:t._e(),t._v(" "),0==t.tipo_viatico?[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v(" Beneficiario")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.beneficiariosuno,expression:"solicitud.beneficiariosuno"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.solicitud.beneficiariosuno},on:{input:function(a){a.target.composing||t.$set(t.solicitud,"beneficiariosuno",a.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v(" Banco")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.datos_bancos_beneficiariosuno,expression:"solicitud.datos_bancos_beneficiariosuno"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.solicitud.datos_bancos_beneficiariosuno},on:{input:function(a){a.target.composing||t.$set(t.solicitud,"datos_bancos_beneficiariosuno",a.target.value)}}})])])]:t._e(),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("CUENTA")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.cuentauno,expression:"solicitud.cuentauno"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.solicitud.cuentauno},on:{input:function(a){a.target.composing||t.$set(t.solicitud,"cuentauno",a.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("CLABE")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.claveuno,expression:"solicitud.claveuno"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.solicitud.claveuno},on:{input:function(a){a.target.composing||t.$set(t.solicitud,"claveuno",a.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("TARJETA")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.clavecuentatarjetauno,expression:"solicitud.clavecuentatarjetauno"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.solicitud.clavecuentatarjetauno},on:{input:function(a){a.target.composing||t.$set(t.solicitud,"clavecuentatarjetauno",a.target.value)}}})]),t._v(" "),"0"===t.solicitud.datos_bancos_beneficiariosuno&&t.tipo_viatico>0?[a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("BANCO")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.banco,expression:"solicitud.banco"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.solicitud.banco},on:{input:function(a){a.target.composing||t.$set(t.solicitud,"banco",a.target.value)}}})])]:t._e(),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.quitar_uno()}}},[a("i",{staticClass:"fas fa-trash"}),t._v(" Limpiar")])])],2),t._v(" "),a("hr")],2)}),[],!1,null,null,null).exports},18785:(t,a,i)=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}i.d(a,{A:()=>o});const o={resetObject:function(t){for(var a in t)"string"==typeof t[a]?t[a]="":"number"==typeof t[a]?t[a]=0:void 0===e(t[a])?t[a]=null:"object"===e(t[a])&&(t[a]={})},getCRUD:function(t){var a=new FormData;a.append("ruta",t),a.append("identificador",1);var i={Create:!1,Read:!1,Update:!1,Delete:!1,Download:!1,Upload:!1};return axios.post("/CRUD",a).then((function(t){for(var a=0;a<t.data.length;a++)1==t.data[a].control_id&&(i.Create=!0),2==t.data[a].control_id&&(i.Read=!0),3==t.data[a].control_id&&(i.Update=!0),4==t.data[a].control_id&&(i.Delete=!0),5==t.data[a].control_id&&(i.Download=!0),6==t.data[a].control_id&&(i.Upload=!0)})).catch((function(t){console.log(t)})),i}}},29794:(t,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>o});i(18785),i(96225).call(void 0);const e={data:function(){return{tipo:"",listaConceptos:[],listado:{tranferencia:[],efectivo:[],conceptos:[]},listado_temporal:{tranferencia:"",efectivo:"",conceptos:""},totales:{totaltranferencia:"",totalefectivo:"",totalgeneral:""}}},computed:{totalTransferencia:function(){var t=this;return this.listado.tranferencia.reduce((function(a,i){return t.totales.totaltranferencia=a+parseFloat(i)}),0)},totalEfectivo:function(){var t=this;return this.listado.efectivo.reduce((function(a,i){return t.totales.totalefectivo=a+parseFloat(i)}),0)},totalGeneral:function(){return this.totales.totalgeneral=parseFloat(this.totales.totaltranferencia)+parseFloat(this.totales.totalefectivo)}},methods:{getDatos:function(t){this.tipo=t,this.listado.tranferencia=[],this.listado.efectivo=[],this.listado.conceptos=[],this.listaConceptos=[],t>0&&this.getData()},getData:function(){var t=this;axios.get("conceptosviaticos").then((function(a){for(var i=0;i<a.data.length;i++)t.listado.tranferencia.push(0),t.listado.efectivo.push(0),t.listado.conceptos.push(a.data[i].id);t.listaConceptos=a.data})).catch((function(t){console.log(t)}))},enviar:function(){this.$emit("listado",this.listado),this.$emit("totales",this.totales),this.$emit("conceptos",this.conceptos)},setDatos:function(t,a){console.log(t,"datos reci");var i=[],e=[],o=[];this.tipo=a;for(var s=0;s<t.length;s++)i.push(t[s].transferencia_electronica),e.push(t[s].efectivo),0==a?o.push(t[s].catalogo_concepto_viaticos):o.push(s+1);console.log(i),console.log(e),console.log(o),this.listado.tranferencia=i,this.listado.efectivo=e,this.listado.conceptos=o;this.enviar()},crear:function(){this.listado.tranferencia.push(this.listado_temporal.tranferencia),this.listado.efectivo.push(this.listado_temporal.efectivo),this.listado.conceptos.push(this.listado_temporal.conceptos),this.listado_temporal.tranferencia="",this.listado_temporal.efectivo="",this.listado_temporal.conceptos="";this.enviar()},deleteu:function(t){this.listado.tranferencia.splice(t,1),this.listado.efectivo.splice(t,1),this.listado.conceptos.splice(t,1)}},mounted:function(){this.getData()}};const o=(0,i(14486).A)(e,(function(){var t=this,a=t._self._c;return a("div",[t.tipo>0?[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[t._m(0),t._v(" "),t._l(t.listaConceptos,(function(i){return a("tr",[a("td",{attrs:{scope:"row"}},[a("label",[t._v(t._s(i.nombre))])]),t._v(" "),a("td",[t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.listado.tranferencia[i.id-1],expression:"listado.tranferencia[item.id - 1]",modifiers:{number:!0}}],staticClass:"form-control col-md-6",attrs:{type:"number",step:".01"},domProps:{value:t.listado.tranferencia[i.id-1]},on:{input:[function(a){a.target.composing||t.$set(t.listado.tranferencia,i.id-1,t._n(a.target.value))},t.enviar],blur:function(a){return t.$forceUpdate()}}})]),t._v(" "),a("td",[t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.listado.efectivo[i.id-1],expression:"listado.efectivo[item.id - 1]",modifiers:{number:!0}}],staticClass:"form-control col-md-6",attrs:{type:"number",step:".01"},domProps:{value:t.listado.efectivo[i.id-1]},on:{input:[function(a){a.target.composing||t.$set(t.listado.efectivo,i.id-1,t._n(a.target.value))},t.enviar],blur:function(a){return t.$forceUpdate()}}})]),t._v(" "),a("td",[t._v(" "+t._s((parseFloat(t.listado.tranferencia[i.id-1])+parseFloat(t.listado.efectivo[i.id-1])).toFixed(2)))])])})),t._v(" "),t._m(1),t._v(" "),a("tr",[t._m(2),t._v(" "),a("td",[a("b",[t._v(t._s(t.totalTransferencia.toFixed(2)))])]),t._v(" "),a("td",[a("b",[t._v(t._s(t.totalEfectivo.toFixed(2)))])]),t._v(" "),a("td",[a("b",[t._v(t._s(t.totalGeneral.toFixed(2)))])])])],2)])]:t._e(),t._v(" "),0==t.tipo?[t._m(3),t._v(" "),t._l(t.listado.conceptos,(function(i,e){return a("li",{staticClass:"list-group-item"},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-4"},[a("label",[t._v(t._s(t.listado.conceptos[e]))])]),t._v(" "),a("div",{staticClass:"form-group col-md-2"},[a("label",[t._v(t._s(t.listado.tranferencia[e]))])]),t._v(" "),a("div",{staticClass:"form-group col-md-2"},[a("label",[t._v(t._s(t.listado.efectivo[e]))])]),t._v(" "),a("div",{staticClass:"form-group col-md-2"},[a("label",[t._v(t._s(parseFloat(t.listado.tranferencia[e])+parseFloat(t.listado.efectivo[e])))])]),t._v(" "),a("div",{staticClass:"form-group col-md-2"},[a("a",{on:{click:function(a){return t.deleteu(e)}}},[a("span",{staticClass:"fas fa-trash",attrs:{"arial-hidden":"true"}})])])])])})),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.listado_temporal.conceptos,expression:"listado_temporal.conceptos"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Concepto"},domProps:{value:t.listado_temporal.conceptos},on:{input:function(a){a.target.composing||t.$set(t.listado_temporal,"conceptos",a.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group col-md-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.listado_temporal.tranferencia,expression:"listado_temporal.tranferencia"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Tranferencia"},domProps:{value:t.listado_temporal.tranferencia},on:{input:function(a){a.target.composing||t.$set(t.listado_temporal,"tranferencia",a.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group col-md-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.listado_temporal.efectivo,expression:"listado_temporal.efectivo"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Efectivo"},domProps:{value:t.listado_temporal.efectivo},on:{input:function(a){a.target.composing||t.$set(t.listado_temporal,"efectivo",a.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group col-md-2"},[t._v("\n       \n      ")]),t._v(" "),a("div",{staticClass:"form-group col-md-2"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.crear()}}},[a("i",{staticClass:"fas fa-plus"}),t._v(" Crear")])])])]:t._e()],2)}),[function(){var t=this,a=t._self._c;return a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Concepto")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("T.E (Transferencia Electronica)")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Efectivo")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Total")])])},function(){var t=this._self._c;return t("tr",[t("td",{attrs:{colspan:"4"}},[this._v(" ")])])},function(){var t=this._self._c;return t("td",[t("b",[this._v("Total")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-4"},[a("label",[a("b",[t._v("Concepto")])])]),t._v(" "),a("div",{staticClass:"form-group col-md-2"},[a("label",[a("b",[t._v("T.E (Transferencia Electronica)")])])]),t._v(" "),a("div",{staticClass:"form-group col-md-2"},[a("label",[a("b",[t._v("Efectivo")])])]),t._v(" "),a("div",{staticClass:"form-group col-md-2"},[a("label",[a("b",[t._v("Total")])])]),t._v(" "),a("div",{staticClass:"form-group col-md-2"},[a("label",[a("b",[t._v("ACCIONES")])])])])}],!1,null,null,null).exports},46844:(t,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>r});var e=i(18785),o=i(96225).call(void 0);const s={data:function(){return{PermisosCrud:{},timbre_modal:0,tipo:"",unidadtemporal:{},empresa:"1",ver:1,tabs:1,isLoading:!1,tituloModal:"",modal:0,tipoAccion:0,isEnabled:!0,data_detalle:"",isObtener_Loading:!1,isGuardar_Loading:!1,solicitud:{id:"",fecha:"",fecha_pago:"",proyecto_id:"",personal_servicio_viaticos_id:"",empleado_elabora_id:"",empleado_revisa_id:"",empleado_autoriza_id:"",empleado_supervisor_id:"",beneficiario_uno:[],detalles_listado:[],detalles_totales:[],detalles_conceptos:[],origen_destino:"",origen_destino_destino:"",fecha_salida:"",hora_estimada_salida:"",fecha_operacion:"",fecha_retorno:"",total_personas:""},list_unidades:[],vehiculos_itinerario_viaticos:[],vehiculos_temporal:{unidad:"",km_inicial:"",empleado_operador_id:"",empleado_operador_name:""},optionsvs_proyecto:[],vs_options:[],columns:["sv__id","sv__folio","sv__tipo","sv__fecha_solicitud","sv__fecha_pago","benef__nombre","id2","EE__nombre","sv__total_efectivo","sv__total_transferencia","sv__estado"],options:{headings:{sv__id:"Acciones",sv__folio:"Folio",sv__tipo:"Tipo",sv__fecha_pago:"Fecha de pago",sv__estado:"Estado",benef__nombre:"Beneficiario",sv__fecha_solicitud:"Fecha solicitada",id2:"Descargar",sv__nombre_revisa:"Revisa",EE__nombre:"Elabora",sv__nombre_autoriza:"Autoriza",sv__total_efectivo:"Total efectivo",sv__total_transferencia:"Total transferencia"},perPage:10,perPageValues:[],skin:o.skin,sortIcon:o.sortIcon,filterByColumn:!0,listColumns:{sv__tipo:[{id:1,text:"REEMBOLSO"},{id:2,text:"VIATICOS"},{id:0,text:"SINDICATO"}]},texts:o.texts}}},components:{beneficiario:function(t){return i.e(753).then(function(){return t(i(4410))}.bind(null,i)).catch(i.oe)},detallesv:function(t){return i.e(753).then(function(){return t(i(29794))}.bind(null,i)).catch(i.oe)}},methods:{getData:function(){this.ver=1,this.PermisosCrud=e.A.getCRUD(this.$route.path)},sumarTotalPersona:function(){this.solicitud.total_personas=1},sumarTotalPersonas:function(){this.solicitud.personal_servicio_viaticos_id.length,this.solicitud.total_personas="",this.solicitud.total_personas=1+this.solicitud.personal_servicio_viaticos_id.length},diaActual:function(){var t=new Date,a=t.getDate(),i=t.getMonth()+1,e=t.getFullYear();a<10&&(a="0"+a),i<10&&(i="0"+i),t=e+"-"+i+"-"+a,this.solicitud.fecha=t,this.solicitud.fecha_salida=t},verdiferencia:function(){new Date(this.solicitud.fecha).getTime()>new Date(this.solicitud.fecha_retorno)&&toastr.warning("La fecha de salida no puede ser menor a la fecha salida")},componenteBeneficiario:function(){this.$refs.beneficiario.getDatos(this.empresa,this.tipo,this.vs_options),this.$refs.detallesv.getDatos(this.tipo)},ObtenerUnidades:function(){var t=this;axios.get("vehiculos/combustible/obtenerunidades").then((function(a){a.data.status?t.list_unidades=a.data.unidades:toastr.error(a.data.mensaje)}))},abrirModal:function(t,a){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(""===this.empresa)toastr.warning("Seleccione una empresa");else if(this.ObtenerProyectos(),this.ObtenerEmpleados(),this.ObtenerUnidades(),"solicitud"===t)switch(a){case"registrar":this.isEnabled=!0,e.A.resetObject(this.solicitud),this.modal=1,this.diaActual(),this.tituloModal="Registrar solicitud de viaticos",this.tipoAccion=1,this.solicitud.empleado_autoriza_id={id:461,name:"BRIGIDA MARTINEZ HERRERA"};break;case"actualizar":this.isEnabled=!1,e.A.resetObject(this.solicitud),this.tituloModal="Actualizar solicitud de viaticos",this.modal=1,this.tipoAccion=2,axios.get("solicitud/viaticos/detalles/"+o.sv__id).then((function(t){t=t.data[0],i.tipo=t.solicitud[0].tipo,i.solicitud.fecha=t.solicitud[0].fecha_solicitud,i.solicitud.fecha_pago=t.solicitud[0].fecha_pago,i.solicitud.proyecto_id={id:t.solicitud[0].proyecto_id,nombre_corto:t.solicitud[0].nombre_proyecto},i.$refs.beneficiario.setDatos(t.beneficiarios,t.solicitud[0].tipo,i.empresa),i.$refs.detallesv.setDatos(t.detalles_listado,t.solicitud[0].tipo),i.solicitud.origen_destino=t.solicitud[0].origen_destino,i.solicitud.origen_destino_destino=t.solicitud[0].origen_destino_destino,i.solicitud.fecha_salida=t.solicitud[0].fecha_salida,i.solicitud.hora_estimada_salida=t.solicitud[0].hora_estimada_salida,i.solicitud.fecha_operacion=t.solicitud[0].fecha_operacion,i.solicitud.fecha_retorno=t.solicitud[0].fecha_retorno,i.vehiculos_itinerario_viaticos=[];for(var a=0;a<t.vehiculo.length;a++){i.vehiculos_itinerario_viaticos.push({unidad:t.vehiculo[a].unidad,km_inicial:t.vehiculo[a].km_inicial,empleado_operador_id:t.vehiculo[a].empleado_operador_id,empleado_operador_name:t.vehiculo[a].nombre_operador})}i.solicitud.total_personas=t.solicitud[0].total_personas,i.solicitud.empleado_supervisor_id={id:t.solicitud[0].empleado_supervisor_id,name:t.solicitud[0].nombre_supervisor},i.solicitud.empleado_elabora_id={id:t.solicitud[0].empleado_elabora_id,name:t.solicitud[0].nombre_elabora},i.solicitud.empleado_revisa_id={id:t.solicitud[0].empleado_revisa_id,name:t.solicitud[0].nombre_revisa},i.solicitud.empleado_autoriza_id={id:t.solicitud[0].empleado_autoriza_id,name:t.solicitud[0].nombre_autoriza},i.solicitud.id=t.solicitud[0].id;var e=[];for(a=0;a<t.empleados.length;a++)e.push({id:t.empleados[a].empleado_id,name:t.empleados[a].nombre_empleado});i.solicitud.personal_servicio_viaticos_id=e}))}},cerrarModal:function(){this.modal=0,this.$refs.beneficiario.quitar_uno(),this.vehiculos_itinerario_viaticos=[],e.A.resetObject(this.solicitud)},enviouno:function(t){this.solicitud.beneficiario_uno=t},envio_u:function(t){this.solicitud.detalles_listado=t},envio_d:function(t){this.solicitud.detalles_totales=t},envio_c:function(t){this.solicitud.detalles_conceptos=t},crear:function(){null!=this.unidadtemporal&&(null!=this.unidadtemporal.id?null!=this.vehiculos_temporal.empleado_operador_id.id?(this.vehiculos_itinerario_viaticos.push({unidad:this.unidadtemporal.modelo,km_inicial:this.unidadtemporal.placas,empleado_operador_id:this.vehiculos_temporal.empleado_operador_id.id,empleado_operador_name:this.vehiculos_temporal.empleado_operador_id.name,temp:!0}),this.unidadtemporal={},this.vehiculos_temporal={}):toastr.warning("Seleccione el operador"):toastr.warning("Seleccione una unidad"))},guardar:function(t){var a=this;this.$validator.validate().then((function(i){if(i){a.isGuardar_Loading=!0,axios({method:t?"POST":"PUT",url:t?"/solicitudviaticos":"/solicitudviaticos/"+a.solicitud.id,data:{id:a.solicitud.id,fecha_solicitud:a.solicitud.fecha,fecha_pago:a.solicitud.fecha_pago,proyecto_id:a.solicitud.proyecto_id.id,personal_servicio_viaticos_id:""==a.solicitud.personal_servicio_viaticos_id?[]:a.solicitud.personal_servicio_viaticos_id,empleado_elabora_id:a.solicitud.empleado_elabora_id.id,empleado_revisa_id:a.solicitud.empleado_revisa_id.id,empleado_autoriza_id:a.solicitud.empleado_autoriza_id.id,empleado_supervisor_id:""==a.solicitud.empleado_supervisor_id?"":a.solicitud.empleado_supervisor_id.id,beneficiario_uno:a.solicitud.beneficiario_uno,detalles_totales:a.solicitud.detalles_totales,detalles_listado:a.solicitud.detalles_listado,detalles_conceptos:a.solicitud.detalles_conceptos,origen_destino:a.solicitud.origen_destino,origen_destino_destino:a.solicitud.origen_destino_destino,fecha_salida:a.solicitud.fecha_salida,hora_estimada_salida:a.solicitud.hora_estimada_salida,fecha_operacion:a.solicitud.fecha_operacion,fecha_retorno:a.solicitud.fecha_retorno,total_personas:a.solicitud.total_personas,vehiculos_itinerario_viaticos:a.vehiculos_itinerario_viaticos,empresa:a.empresa,tipo:a.tipo}}).then((function(i){if(a.isGuardar_Loading=!1,i.data.status){toastr.success(t?"Solicitud creada exitosamente":"Solicitud actualizada exitosamente","Correcto");var e=a;a.ObtenerSolicitudes(),e.cerrarModal(),e.getData()}else toastr.error("Error al guardar la solicitud")})).catch((function(t){console.error(t)}))}else toastr.warning("Complete los campos requeridos")}))},limpiarBeneficiarioUno:function(){this.solicitud.beneficiario_uno=null},limpiarBeneficiarioDos:function(){this.solicitud.beneficiario_dos=null},maestro:function(){this.ver=1},enviaRevision:function(t,a){var i=this;this.isLoading=!0,swal({title:"Esta seguro(a) de enviar?",type:"warning",showCancelButton:!0,confirmButtonColor:"#4dbd74",cancelButtonColor:"#f86c6b",confirmButtonText:"Aceptar!",cancelButtonText:"Cancelar",reverseButtons:!0}).then((function(e){e.value?axios.post("/estadosviaticos",{id:t,edo:a,empresa:i.empresa}).then((function(t){i.isLoading=!1,t.data.status?(2==a&&toastr.success("Solicitud de viaticos enviada a revisión","Correcto"),i.getData(),i.ObtenerSolicitudes()):toastr.warning(t.data.respuesta,"Atención")})).catch((function(t){console.log(t)})):i.isLoading=!1}))},decargarForVia:function(t,a){window.open("/descargarformatoviatico/"+t+"&"+a,"_blank")},descargarnForFij:function(t,a){window.open("/descargarnformatofij/"+t+"&"+a,"_blank")},ObtenerProyectos:function(){var t=this;axios.get("generales/proyectos/1").then((function(a){t.optionsvs_proyecto=a.data.proyectos}))},ObtenerEmpleados:function(){var t=this;axios.get("rh/empleados/obtenerporempresa/"+this.empresa).then((function(a){var i=[];a.data.empleados.forEach((function(t){i.push({id:t.id,name:t.nombre+" "+t.ap_paterno+" "+t.ap_materno})})),t.vs_options=i}))},eliminar:function(t,a){var i=this;axios.get("eliminar/solicitud/viaticos/"+t+"&"+a).then((function(t){toastr.success("Eliminado Correctamente"),i.ObtenerSolicitudes()})).catch((function(t){console.error(t)}))},ObtenerSolicitudes:function(){this.$refs.myTable.refresh()},descargaViatico:function(t,a){switch(a){case 0:this.descargarnForFij(t,this.empresa);break;case 1:case 2:this.decargarForVia(t,this.empresa)}}},mounted:function(){this.getData()}};const r=(0,i(14486).A)(s,(function(){var t=this,a=t._self._c;return a("main",{staticClass:"main"},[a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.ver,expression:"ver == 1"}],staticClass:"card"},[a("div",{staticClass:"card-header"},[a("i",{staticClass:"fa fa-align-justify"}),t._v(" Solicitudes "+t._s(1==t.empresa?"CONSERFLOW":2==t.empresa?"CSCT":"")+"\n\n                "),a("button",{staticClass:"btn btn-dark float-sm-right",attrs:{type:"button"},on:{click:function(a){return t.abrirModal("solicitud","registrar")}}},[a("i",{staticClass:"fas fa-plus"}),t._v("Nuevo\n                ")])]),t._v(" "),a("div",{staticClass:"card-body"},[a("vue-element-loading",{attrs:{active:t.isObtener_Loading}}),t._v(" "),a("v-server-table",{ref:"myTable",attrs:{columns:t.columns,options:t.options,url:"solicitud/viaticos/conserflow/".concat(t.empresa,"?query={}&limit=10&ascending=1&page=1&byColumn=1")},scopedSlots:t._u([{key:"sv__id",fn:function(i){return[a("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Button group with nested dropdown"}},[a("div",{staticClass:"btn-group dropup",attrs:{role:"group"}},[a("button",{staticClass:"btn btn-outline-dark dropdown-toggle",attrs:{id:"btnGroupDrop1",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fas fa-grip-horizontal"})]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"btnGroupDrop1"}},[0==i.row.sv__eliminado?[1==i.row.sv__estado?[a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.abrirModal("solicitud","actualizar",i.row)}}},[a("i",{staticClass:"fas fa-edit"}),t._v("Actualizar Solicitud\n                                            ")]),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:t.PermisosCrud.Delete,expression:"PermisosCrud.Delete"}],staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.eliminar(i.row.sv__id,t.empresa)}}},[a("i",{staticClass:"fas fa-trash"}),t._v("Eliminar\n                                            ")]),t._v(" "),a("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.enviaRevision(i.row.sv__id,2)}}},[a("i",{staticClass:"far fa-paper-plane"}),t._v("Cerrar\n                                            ")])]:t._e()]:t._e()],2)])])]}},{key:"sv__estado",fn:function(i){return[1==i.row.sv__eliminado?[a("span",{staticClass:"btn btn-outline-danger"},[t._v("Eliminado")])]:t._e(),t._v(" "),0==i.row.sv__eliminado?[6==i.row.sv__estado?[a("span",{staticClass:"btn btn-outline-info"},[t._v("Finalizado")])]:t._e(),t._v(" "),5==i.row.sv__estado?[a("span",{staticClass:"btn btn-outline-info"},[t._v("Pagos "),a("br"),t._v(" agendados")])]:t._e(),t._v(" "),4==i.row.sv__estado?[a("span",{staticClass:"btn btn-outline-info"},[t._v("En espera "),a("br"),t._v(" de pagos")])]:t._e(),t._v(" "),3==i.row.sv__estado?[a("span",{staticClass:"btn btn-outline-warning"},[t._v("En Autorizacion")])]:t._e(),t._v(" "),2==i.row.sv__estado?[a("span",{staticClass:"btn btn-outline-warning"},[t._v("En revisión")])]:t._e(),t._v(" "),1==i.row.sv__estado?[a("span",{staticClass:"btn btn-outline-success"},[t._v("Nuevo")])]:t._e(),t._v(" "),0==i.row.sv__estado?[a("span",{staticClass:"btn btn-outline-danger"},[t._v("No autorizado")])]:t._e()]:t._e()]}},{key:"sv__tipo",fn:function(a){return[0==a.row.sv__tipo?[t._v("\n                            SINDICATO\n                        ")]:t._e(),t._v(" "),1==a.row.sv__tipo?[t._v("\n                            REEMBOLSO\n                        ")]:t._e(),t._v(" "),2==a.row.sv__tipo?[t._v("\n                            VIATICOS\n                        ")]:t._e()]}},{key:"id2",fn:function(i){return[a("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(a){return t.descargaViatico(i.row.sv__id,i.row.sv__tipo)}}},[a("i",{staticClass:"fas fa-file-pdf"}),a("i",{staticClass:"fas fa-download"})])]}},{key:"sv__total_efectivo",fn:function(i){return[a("p",[t._v(t._s(i.row.sv__total_efectivo.toLocaleString("es-MX",{style:"currency",currency:"MXN"})))])]}},{key:"sv__total_transferencia",fn:function(i){return[a("p",[t._v(t._s(i.row.sv__total_transferencia.toLocaleString("es-MX",{style:"currency",currency:"MXN"})))])]}}])})],1)]),t._v(" "),a("div",{staticClass:"modal fade",class:{mostrar:t.modal},staticStyle:{display:"none"},attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel","arial-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dark modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.tituloModal)+" "+t._s(1==t.empresa?"Conserflow":"CSCT"))]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.cerrarModal()}}},[a("span",{attrs:{"arial-hidden":"true"}},[t._v("X")])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("vue-element-loading",{attrs:{active:t.isGuardar_Loading}}),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("Tipo")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.tipo,expression:"tipo"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{disabled:!t.isEnabled,"data-vv-name":"tipo"},on:{change:[function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.tipo=a.target.multiple?i:i[0]},function(a){return t.componenteBeneficiario()}]}},[a("option",{attrs:{value:"0"}},[t._v("SINDICATO")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("REEMBOLSO")]),t._v(" "),a("option",{attrs:{value:"2"}},[t._v("VIATICOS")])]),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("tipo")))])]),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("Fecha solicitud")]),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.fecha,expression:"solicitud.fecha"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha solicitud"},domProps:{value:t.solicitud.fecha},on:{input:function(a){a.target.composing||t.$set(t.solicitud,"fecha",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Fecha solicitud")))])])]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("Fecha requerida de pago")]),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.fecha_pago,expression:"solicitud.fecha_pago"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha de pago"},domProps:{value:t.solicitud.fecha_pago},on:{input:function(a){a.target.composing||t.$set(t.solicitud,"fecha_pago",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Fecha de pago")))])]),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("Proyecto")]),t._v(" "),a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:!t.isEnabled,options:t.optionsvs_proyecto,label:"nombre_corto","data-vv-name":"Proyecto"},model:{value:t.solicitud.proyecto_id,callback:function(a){t.$set(t.solicitud,"proyecto_id",a)},expression:"solicitud.proyecto_id"}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Proyecto")))])],1)]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"accordion",attrs:{id:"accordion"}},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"collapse",attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-parent":"#accordion"}},[a("div",{staticClass:"card-body"},[a("beneficiario",{ref:"beneficiario",on:{enviarUno:function(a){return t.enviouno(a)},enviarDos:function(a){return t.enviodos(a)},limpiarUno:function(a){return t.limpiarBeneficiarioUno()},limpiarDos:function(a){return t.limpiarBeneficiarioDos()}}})],1)])]),t._v(" "),a("div",{staticClass:"card"},[t._m(1),t._v(" "),a("div",{staticClass:"collapse",attrs:{id:"collapseTwo","aria-labelledby":"headingTwo","data-parent":"#accordion"}},[a("div",{staticClass:"card-body"},[a("detallesv",{ref:"detallesv",on:{listado:function(a){return t.envio_u(a)},totales:function(a){return t.envio_d(a)},conceptos:function(a){return t.envio_c(a)}}})],1)])]),t._v(" "),t.tipo>0?[a("div",{staticClass:"card"},[t._m(2),t._v(" "),a("div",{staticClass:"collapse",attrs:{id:"collapseThree","aria-labelledby":"headingThree","data-parent":"#accordion"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-row"},[t._m(3),t._v(" "),a("div",{staticClass:"form-group col-md-4"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.origen_destino,expression:"solicitud.origen_destino"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"Origen"},domProps:{value:t.solicitud.origen_destino},on:{input:function(a){a.target.composing||t.$set(t.solicitud,"origen_destino",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Origen")))])]),t._v(" "),t._m(4),t._v(" "),a("div",{staticClass:"form-group col-md-4"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.origen_destino_destino,expression:"solicitud.origen_destino_destino"}],staticClass:"form-control",attrs:{type:"text","data-vv-name":"Destino"},domProps:{value:t.solicitud.origen_destino_destino},on:{input:function(a){a.target.composing||t.$set(t.solicitud,"origen_destino_destino",a.target.value)}}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Destino")))])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"form-row"},[t._m(5),t._v(" "),a("div",{staticClass:"form-group col-md-4"},[a("div",{staticClass:"input-group"},[t._m(6),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.fecha_salida,expression:"solicitud.fecha_salida"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha salida"},domProps:{value:t.solicitud.fecha_salida},on:{input:function(a){a.target.composing||t.$set(t.solicitud,"fecha_salida",a.target.value)}}})]),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Fecha salida")))]),t._v(" "),a("div",{staticClass:"input-group"},[t._m(7),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.hora_estimada_salida,expression:"solicitud.hora_estimada_salida"}],staticClass:"form-control",attrs:{type:"time","data-vv-name":"Hora estimada de salida"},domProps:{value:t.solicitud.hora_estimada_salida},on:{input:function(a){a.target.composing||t.$set(t.solicitud,"hora_estimada_salida",a.target.value)}}})]),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Hora estimada de salida")))])]),t._v(" "),t._m(8),t._v(" "),a("div",{staticClass:"form-group col-md-4"},[a("div",{staticClass:"input-group"},[t._m(9),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.fecha_operacion,expression:"solicitud.fecha_operacion"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha de operacion"},domProps:{value:t.solicitud.fecha_operacion},on:{input:function(a){a.target.composing||t.$set(t.solicitud,"fecha_operacion",a.target.value)}}})]),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.errors.first("Fecha de operacion"))+" ")]),t._v(" "),a("div",{staticClass:"input-group"},[t._m(10),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.solicitud.fecha_retorno,expression:"solicitud.fecha_retorno"}],staticClass:"form-control",attrs:{type:"date","data-vv-name":"Fecha de retorno"},domProps:{value:t.solicitud.fecha_retorno},on:{change:function(a){return t.verdiferencia()},input:function(a){a.target.composing||t.$set(t.solicitud,"fecha_retorno",a.target.value)}}})]),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.errors.first("Fecha de retorno"))+" ")])])]),t._v(" "),a("hr"),t._v(" "),t._m(11),t._v(" "),t._l(t.vehiculos_itinerario_viaticos,(function(i,e){return a("li",{key:e,staticClass:"list-group-item"},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-2"},[a("label",[t._v(t._s(i.km_inicial))])]),t._v(" "),a("div",{staticClass:"form-group col-md-4"},[a("label",[t._v(t._s(i.unidad))])]),t._v(" "),a("div",{staticClass:"form-group col-md-4"},[a("label",[t._v(t._s(i.empleado_operador_name))])])])])})),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-2"},[a("v-select",{attrs:{options:t.list_unidades,label:"placas"},model:{value:t.unidadtemporal,callback:function(a){t.unidadtemporal=a},expression:"unidadtemporal"}})],1),t._v(" "),a("div",{staticClass:"form-group col"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.unidadtemporal.modelo,expression:"unidadtemporal.modelo"}],staticClass:"form-control",attrs:{disabled:"",type:"text",placeholder:"Unidad"},domProps:{value:t.unidadtemporal.modelo},on:{input:function(a){a.target.composing||t.$set(t.unidadtemporal,"modelo",a.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group col-md-4"},[a("v-select",{attrs:{options:t.vs_options,label:"name",name:"personal_servicio_viaticos_id","data-vv-name":"personal_servicio_viaticos_id"},model:{value:t.vehiculos_temporal.empleado_operador_id,callback:function(a){t.$set(t.vehiculos_temporal,"empleado_operador_id",a)},expression:"vehiculos_temporal.empleado_operador_id"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.crear()}}},[a("i",{staticClass:"fas fa-plus"})])])])],2)])]),t._v(" "),a("div",{staticClass:"card"},[t._m(12),t._v(" "),a("div",{staticClass:"collapse",attrs:{id:"collapseFour","aria-labelledby":"headingFour","data-parent":"#accordion"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-row"},[t._m(13),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.solicitud.total_personas,expression:"solicitud.total_personas"}],staticClass:"form-control",attrs:{type:"number",name:"total_personas","data-vv-name":"total_personas",readonly:""},domProps:{value:t.solicitud.total_personas},on:{input:function(a){a.target.composing||t.$set(t.solicitud,"total_personas",a.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-row"},[t._m(14),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{options:t.vs_options,label:"name","data-vv-name":"Supervisor"},on:{input:t.sumarTotalPersona},model:{value:t.solicitud.empleado_supervisor_id,callback:function(a){t.$set(t.solicitud,"empleado_supervisor_id",a)},expression:"solicitud.empleado_supervisor_id"}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(" "+t._s(t.errors.first("Supervisor"))+" ")])],1)]),t._v(" "),a("div",{staticClass:"form-row"},[t._m(15),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("v-select",{attrs:{multiple:"",options:t.vs_options,label:"name",name:"personal_servicio_viaticos_id","data-vv-name":"personal_servicio_viaticos_id"},on:{input:t.sumarTotalPersonas},model:{value:t.solicitud.personal_servicio_viaticos_id,callback:function(a){t.$set(t.solicitud,"personal_servicio_viaticos_id",a)},expression:"solicitud.personal_servicio_viaticos_id"}})],1)])])])])]:t._e()],2),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("Elaboró")]),t._v(" "),a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{options:t.vs_options,label:"name","data-vv-name":"Elabora"},model:{value:t.solicitud.empleado_elabora_id,callback:function(a){t.$set(t.solicitud,"empleado_elabora_id",a)},expression:"solicitud.empleado_elabora_id"}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Elabora")))])],1),t._v(" "),a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("Revisó")]),t._v(" "),a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{options:t.vs_options,label:"name",name:"revisa","data-vv-name":"Revisa"},model:{value:t.solicitud.empleado_revisa_id,callback:function(a){t.$set(t.solicitud,"empleado_revisa_id",a)},expression:"solicitud.empleado_revisa_id"}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Revisa")))])],1)]),t._v(" "),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("Autorizó")]),t._v(" "),a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:"",options:t.vs_options,label:"name",name:"autoriza","data-vv-name":"Autoriza"},model:{value:t.solicitud.empleado_autoriza_id,callback:function(a){t.$set(t.solicitud,"empleado_autoriza_id",a)},expression:"solicitud.empleado_autoriza_id"}}),t._v(" "),a("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("Autoriza")))])],1)])],1),t._v(" "),a("div",{staticClass:"modal-footer"},[a("vue-element-loading",{attrs:{active:t.isGuardar_Loading}}),t._v(" "),a("div",[a("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(a){return t.cerrarModal()}}},[a("i",{staticClass:"fas fa-times"}),t._v("Cerrar")]),t._v(" "),1==t.tipoAccion?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.guardar(1)}}},[a("i",{staticClass:"fas fa-save"}),t._v("Guardar")]):t._e(),t._v(" "),2==t.tipoAccion?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(a){return t.guardar(0)}}},[a("i",{staticClass:"fas fa-save"}),t._v("Actualizar")]):t._e()])],1)])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"card-header",attrs:{id:"headingOne"}},[t("h5",{staticClass:"mb-0"},[t("button",{staticClass:"btn btn-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}},[this._v("\n                                            BENEFICIARIOS\n                                        ")])])])},function(){var t=this._self._c;return t("div",{staticClass:"card-header",attrs:{id:"headingTwo"}},[t("h5",{staticClass:"mb-0"},[t("button",{staticClass:"btn btn-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"true","aria-controls":"collapseTwo"}},[this._v("\n                                            DETALLE DE VIATICOS\n                                        ")])])])},function(){var t=this._self._c;return t("div",{staticClass:"card-header",attrs:{id:"headingThree"}},[t("h5",{staticClass:"mb-0"},[t("button",{staticClass:"btn btn-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseThree","aria-expanded":"true","aria-controls":"collapseThree"}},[this._v("\n                                                NOTAS DE ITINERIARIO Y LOGISTICA\n                                            ")])])])},function(){var t=this._self._c;return t("div",{staticClass:"form-group col-md-2"},[t("label",[this._v("Origen")])])},function(){var t=this._self._c;return t("div",{staticClass:"form-group col-md-2"},[t("label",[this._v("Destino")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"form-group col-md-5"},[a("label",[t._v("1.- Fecha salida:")]),t._v(" "),a("label",[t._v("2.- Hora de estimada de salida:")])])},function(){var t=this._self._c;return t("div",{staticClass:"input-group-addon"},[t("span",{staticClass:"input-group-text"},[this._v("1")])])},function(){var t=this._self._c;return t("div",{staticClass:"input-group-addon"},[t("span",{staticClass:"input-group-text"},[this._v("2")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"form-group col-md-5"},[a("label",[t._v("3.- Fecha de operación:")]),t._v(" "),a("label",[t._v("4.- Fecha de retorno estimada:")])])},function(){var t=this._self._c;return t("div",{staticClass:"input-group-addon"},[t("span",{staticClass:"input-group-text"},[this._v("3")])])},function(){var t=this._self._c;return t("div",{staticClass:"input-group-addon"},[t("span",{staticClass:"input-group-text"},[this._v("4")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-2"},[a("label",[a("b",[t._v("PLACAS")])])]),t._v(" "),a("div",{staticClass:"form-group col-md-4"},[a("label",[a("b",[t._v("UNIDAD")])])]),t._v(" "),a("div",{staticClass:"form-group col-md-4"},[a("label",[a("b",[t._v("OPERADOR")])])])])},function(){var t=this._self._c;return t("div",{staticClass:"card-header",attrs:{id:"headingFour"}},[t("h5",{staticClass:"mb-0"},[t("button",{staticClass:"btn btn-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseFour","aria-expanded":"true","aria-controls":"collapseFour"}},[this._v("\n                                                PERSONAL DESTINADO AL SERVICIO\n                                            ")])])])},function(){var t=this._self._c;return t("div",{staticClass:"form-group col-md-4"},[t("label",[this._v("Total de personas a asistir")])])},function(){var t=this._self._c;return t("div",{staticClass:"form-group col-md-4"},[t("label",[this._v("Supervisor")])])},function(){var t=this._self._c;return t("div",{staticClass:"form-group col-md-4"},[t("label",[this._v("Nombre del personal que asiste al servicio")])])}],!1,null,null,null).exports},96225:t=>{t.exports=function(){return{dateColumns:[],listColumns:{},datepickerOptions:{locale:{cancelLabel:"Clear"}},datepickerPerColumnOptions:{},initialPage:1,perPage:10,perPageValues:[10,25,50,100],groupBy:!1,collapseGroups:!1,destroyEventBus:!1,sendEmptyFilters:!1,params:{},sortable:!0,filterable:!0,groupMeta:[],initFilters:{},customFilters:[],templates:{},debounce:250,dateFormat:"DD/MM/YYYY",dateFormatPerColumn:{},toMomentFormat:!1,skin:"table table-striped table-bordered table-hover table-sm",skinBusqueda:"table table-striped table-bordered table-hover table-sm busqueda",columnsDisplay:{},columnsDropdown:!1,texts:{count:"Mostrando del {from} al  {to} de {count} registros|{count} registros|Un registro",first:"Primero",last:"Ultimo",filter:"Buscar:",filterPlaceholder:"Buscar...",limit:"Registros:",page:"Pagina:",noResults:"No se encontraron registros",filterBy:"Filtrar por {column}",loading:"Cargando...",defaultOption:"Seleccionar {column}",columns:"Columnas"},sortIcon:{base:"fa",up:"fa-chevron-up",down:"fa-chevron-down",is:"fa-sort"},sortingAlgorithm:function(t,a){return t.sort(this.getSortFn(a))},customSorting:{},multiSorting:{},clientMultiSorting:!0,serverMultiSorting:!1,filterByColumn:!1,highlightMatches:!1,orderBy:!1,descOrderColumns:[],footerHeadings:!1,headings:{},headingsTooltips:{},pagination:{dropdown:!1,chunk:10,edge:!1,align:"center",nav:"fixed"},childRow:!1,childRowTogglerFirst:!0,uniqueKey:"id",requestFunction:!1,requestAdapter:function(t){return t},responseAdapter:function(t){var a=this.getResponseData(t);return{data:a.data,count:a.count}},requestKeys:{query:"query",limit:"limit",orderBy:"orderBy",ascending:"ascending",page:"page",byColumn:"byColumn"},rowClassCallback:!1,preserveState:!1,saveState:!1,storage:"local",columnsClasses:{},columnCondicion:[{id:1,text:"Activo"},{id:0,text:"Desactivado"}]}}}}]);